<!-- manage_followers.html -->
{% extends 'base.html' %}

{% block content %}
  <h1>Gérer les Abonnements</h1>

  <h2>Utilisateurs que vous suivez :</h2>
  <ul>
    {% for user_follows in following %}
      <li>{{ user_follows.followed_user.username }}</li>
    {% empty %}
      <p>Vous ne suivez personne pour le moment.</p>
    {% endfor %}
  </ul>

  <h2>Personnes qui vous suivent :</h2>
  <ul>
    {% for user_follows in followers %}
      <li>{{ user_follows.user.username }}</li>
    {% empty %}
      <p>Personne ne vous suit pour le moment.</p>
    {% endfor %}
  </ul>

  <h2>Suivre un nouvel utilisateur :</h2>
  <form method="post">
    {% csrf_token %}
    <label for="username_to_follow">Nom d'utilisateur à suivre :</label>
    <input type="text" name="username_to_follow" required>
    <button type="submit">Suivre</button>
  </form>

  <a href="{% url 'home' %}">Retour</a>
{% endblock %}
